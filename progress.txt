## 2026-01-12 - Todo cleanup (PRD #1, #2, #3)

Removed todo example code from entire codebase:
- Deleted backend router (apps/backend/src/routers/todo/)
- Deleted frontend components, queries, mutations
- Deleted DB schema, types, relations
- Updated index route to redirect to /dashboard

Note: db:push not run - table still exists in DB but code is clean. Run manually if needed.

Next: PRD #4-7 (pockets cleanup, multi-step demo removal)

## 2026-01-12 - Pockets cleanup backend+frontend (PRD #4, #5)

Removed pockets feature from backend and frontend:
- Deleted backend router (apps/backend/src/routers/pocket/)
- Deleted frontend components, queries, mutations, route
- Removed pockets key from query keys
- Removed Pockets link from navbar and mobile-nav
- Regenerated router types

Note: PRD #6 still pending - pockets DB schema and balance calculation refs remain. Do #6 next to complete pockets removal.

## 2026-01-12 - Pockets DB + balance cleanup (PRD #6)

Removed pockets from database schema and balance calculations:
- Deleted packages/db/src/schemas/pockets.ts
- Removed pockets export from schemas/index.ts
- Removed pocket types from types.ts
- Removed pockets from SnapshotData type in snapshots.ts
- Removed pockets relation from relations.ts
- Removed calcPocketsTotal and pockets from balance service
- Removed pockets from snapshot service archival
- Removed pockets section from dashboard-overview.tsx

Note: db:push requires interactive confirmation to drop tables. Run manually if needed.

Next: PRD #7 (remove multi-step form demo route)

## 2026-01-13 - Tags DB schema (PRD #8)

Created tags database schema:
- Created packages/db/src/schemas/tags.ts with id, userId, name, color fields
- Exported tags from schemas/index.ts
- Added Tag, TagInsert, TagUpdate types + zod schemas to types.ts

Note: db:push not run - requires interactive confirmation. Run manually.

Next: PRD #9 (add tagId to expenses) or PRD #10 (tags API endpoints)

## 2026-01-13 - Add tagId to expenses (PRD #9)

Added nullable tagId foreign key to expenses schema:
- Added import for tags table in expenses.ts
- Added tagId field with onDelete: 'set null' (tag deletion doesn't delete expenses)
- Types auto-updated via Drizzle inference (no manual changes needed)

Note: db:push not run - requires interactive confirmation. Run manually.

Next: PRD #10 (tags API endpoints)

## 2026-01-13 - Tags API endpoints (PRD #10)

Created tags CRUD API:
- Created apps/backend/src/routers/tag/service.ts with getUserTags, getTag, createTag, updateTag, deleteTag
- Created apps/backend/src/routers/tag/controller.ts with GET /tags, POST /tags, PATCH /tags/:id, DELETE /tags/:id
- Registered tagsRouter in backend index.ts
- All routes require auth, ownership check on update/delete

Next: PRD #11 (tags queries/mutations frontend)

## 2026-01-13 - Remove multi-step demo (PRD #7)

Removed multi-step form demo from codebase:
- Deleted apps/web/src/routes/multi.tsx
- Deleted apps/web/src/components/multi-step-demo/ folder (multi.tsx, step-1.tsx, step-2.tsx)
- Regenerated router types

Next: PRD #10 (tags API endpoints)

## 2026-01-13 - Tags queries and mutations (PRD #11)

Created frontend tags queries and mutations:
- Created apps/web/src/lib/queries/tags.queries.ts with tagListOptions
- Created apps/web/src/lib/mutations/tags.mutations.ts with create, update, delete options
- Added tags key to apps/web/src/lib/queries/keys.ts

Next: PRD #12 (tag management UI)

## 2026-01-13 - Tag management UI (PRD #12)

Created full tag management UI for expenses:
- apps/web/src/lib/constants/tag-colors.ts - 12 preset colors
- apps/web/src/components/tag/color-picker.tsx - reusable color picker
- apps/web/src/components/tag/tag-badge.tsx - tag display (dot + name)
- apps/web/src/components/tag/add-tag-dialog.tsx - create new tags
- apps/web/src/components/tag/manage-tags-dialog.tsx - list/edit/delete tags
- apps/web/src/components/tag/tag-selector.tsx - dropdown for expense forms
- Updated expense-fields.tsx with tagId field + TagSelector

Tag selector has "No tag", tag list, "Create tag", "Manage tags" options.

Next: PRD #13 (mock email service)

## 2026-01-13 - Mock email service (PRD #13)

Implemented dev mode email mocking:
- Modified packages/email/src/index.ts to check NODE_ENV
- In dev: console.log emails with formatted output (ðŸ“§ [DEV] prefix)
- In prod: uses Resend as before
- Added sendInvitation function with to, inviterName, householdName, token params
- Email text in French, contains link to /invite/:token with 7-day expiry note

Next: PRD #14 (send invitation email when creating invitation)
