## 2026-01-17

### PRD #36 - Auth protection for dashboard (DONE)
- Added beforeLoad guard to routes/index.tsx
- Redirects unauthenticated users to /login
- Same pattern as routes/account.tsx
- Files changed: apps/web/src/routes/index.tsx

### PRD #38 - Query invalidation for real-time updates (DONE)
- Added stats.all + balance.all to expenses mutations
- Added balance.all to incomes mutations
- Added stats.all to tags mutations
- Charts/balance now update immediately on data changes
- Files changed: apps/web/src/lib/mutations/{expenses,incomes,tags}.mutations.ts

### PRD #37 - Fix expense item layout overlap (DONE)
- Changed asymmetric padding py-2 pr-2 pl-4 to p-3
- Wrapped edit/delete buttons in shrink-0 container
- Reduced button gap to gap-1
- Files changed: apps/web/src/components/expense/expense-item.tsx

### PRD #39 - Fix select trigger width (DONE)
- Changed w-fit to w-full in SelectTrigger component
- Selects now take full container width
- Files changed: apps/web/src/components/ui/select.tsx

### PRD #35 - Widen dashboard layout (DONE)
- Changed max-w-md to max-w-5xl in DashboardTabs
- PersonalTab and HouseholdSettings already have max-w-5xl and responsive grids
- Dashboard now uses ~1024px max width on desktop
- Files changed: apps/web/src/components/dashboard/dashboard-tabs.tsx

### PRD #40 - Improve expense form layout (DONE)
- Grouped Type + Period selects side-by-side for recurring expenses
- Date fields remain side-by-side as before
- Files changed: apps/web/src/components/expense/expense-fields.tsx

### PRD #41 - Redesign account page layout (DONE)
- Changed max-w-lg to max-w-3xl for wider layout
- Added responsive 2-col grid (lg:grid lg:grid-cols-2 lg:gap-6)
- Left column: Profile + Email forms
- Right column: Password + Session cards
- Files changed: apps/web/src/routes/account.tsx

## 2026-01-18

### PRD #44 - Add redirect param to auth routes (DONE)
- Added redirect search param validation to _auth/login.tsx and _auth/register.tsx
- LoginForm accepts redirect prop, navigates to redirect URL after successful login
- RegisterForm accepts redirect prop, preserves it when navigating to login
- Link between login/register preserves redirect param
- Files changed: apps/web/src/routes/_auth/login.tsx, apps/web/src/routes/_auth/register.tsx, apps/web/src/components/auth/login-form.tsx, apps/web/src/components/auth/register-form.tsx

### Next priority suggestions:
- PRD #45 (redirect back to invite after login) - uses the redirect param from #44
- PRD #43 (add register button to invite page) - can pass redirect param
